---
layout: src/layouts/Default.astro
pubDate: 2023-01-01
modDate: 2023-01-01
title: Find target usage
description: An example script that will loop through all the steps in the deployment process and runbooks and determine if a target is being used
---
import FindTargetUsageNoTenants from 'src/shared-content/scripts/find-target-usage-no-tenants.include.md';

This script will accept a target name and loop through all the projects in the space and determines:

- Does the target role(s) and environments match any steps in the deployment process.
- Does the target role(s) and environments match any steps in any runbook processes.

Any matching projects or runbooks will be printed at the end of the script.

**Please Note:** This script reflects the _current_ state of the runbooks and deployment process.  It does not look at release snapshots or previously published runbooks.  It also does not take tenants into account.

This script should work with any version of Octopus 4.0 or later.  It has guard clauses in place to exclude spaces and runbooks based on the version.

## Usage

Provide values for the following:
- Octopus URL
- Octopus API Key - the user associated with the API key will need read-only permissions on all spaces
- Space Name - name of the space to search for, if left blank it will use the default space
- Target Name - name of the target to search for

## Script

<FindTargetUsageNoTenants />