---
layout: src/layouts/Default.astro
pubDate: 2017-01-08
title: 'Configure SPM Client'
description: 'This Step Template will Configure the SPM Client for Solr and Zookeeper'
navMenu: false
# Set to true when launched
navSitemap: false
navSearch: false
# This file is auto-generated by docs/tools/MarkdownGenerator (detail.js)
---

Octopus.Script exported 2017-01-08 by mani0070 belongs to 'Linux' category.

## Parameters

When steps based on the template are included in a project's deployment process, the parameters below can be set.


<div class="param">

### SemaText Application GUID

`appguid`

null

</div>
        
<div class="param">

### Application Type

`applicationtype`

Value can be solr or zk

</div>
        
<div class="param">

### Application Mode

`applicationmode = standalone`

standalone

</div>
        
<div class="param">

### JMX Host Address

`jmxhostaddress`

JMX Host Address

</div>
        
<div class="param">

### JMX Host Port

`jmxhostport`

null

</div>
        

## Script body

Steps based on this template will execute the following *Bash* script.

```bash
APP_GUID="#{appguid}"
APP_TYPE="#{applicationtype}"
APP_MODE="#{applicationmode}"
JMXADDR="#{jmxhostaddress}"
JMXPORT="#{jmxhostport}"

echo sudo bash /opt/spm/bin/spm-client-setup-conf.sh ${APP_GUID} ${APP_TYPE} ${APP_MODE} jmxhost:${JMXADDR} jmxport:${JMXPORT}
sudo bash /opt/spm/bin/spm-client-setup-conf.sh ${APP_GUID} ${APP_TYPE} ${APP_MODE} jmxhost:${JMXADDR} jmxport:${JMXPORT}
sudo service spm-monitor restart
```

Provided under the [Apache License version 2.0](https://github.com/OctopusDeploy/Library/blob/master/LICENSE.txt).

[Report an issue](https://github.com/OctopusDeploy/Library/issues/new?assignees=&labels=&projects=&template=bug-report.yml&title=Issue%20with%20Configure%20SPM%20Client&step-template=Configure%20SPM%20Client)

<div class="get-json">

To use this template in Octopus Deploy, copy the JSON below and paste it into the **Library → Step templates → Import** dialog.

```json
{
  "Id": "044392b0-5ee7-4f8d-b961-016f07ec6d50",
  "Name": "Configure SPM Client",
  "Description": "This Step Template will Configure the SPM Client for Solr and Zookeeper",
  "Version": 11,
  "ExportedAt": "2017-01-08T11:09:57.757Z",
  "ActionType": "Octopus.Script",
  "Author": "mani0070",
  "Parameters": [
    {
      "Id": "90e816e7-9a09-49da-87ac-cb498a7a4a64",
      "Name": "appguid",
      "Label": "SemaText Application GUID",
      "HelpText": null,
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    },
    {
      "Id": "f1baea32-7272-40f4-a2d0-95ead1427a0a",
      "Name": "applicationtype",
      "Label": "Application Type",
      "HelpText": "Value can be solr or zk",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    },
    {
      "Id": "1e3f73eb-153d-4aa6-9b8a-53b5d1737b84",
      "Name": "applicationmode",
      "Label": "Application Mode",
      "HelpText": "standalone",
      "DefaultValue": "standalone",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    },
    {
      "Id": "90b9eeae-83c0-47ad-84b2-60a78ee5049a",
      "Name": "jmxhostaddress",
      "Label": "JMX Host Address",
      "HelpText": "JMX Host Address",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    },
    {
      "Id": "2e7941e8-5d32-4619-b4d3-0e67a9b4dda0",
      "Name": "jmxhostport",
      "Label": "JMX Host Port",
      "HelpText": null,
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    }
  ],
  "Properties": {
    "Octopus.Action.Script.Syntax": "Bash",
    "Octopus.Action.Script.ScriptSource": "Inline",
    "Octopus.Action.RunOnServer": "false",
    "Octopus.Action.Script.ScriptBody": "APP_GUID=\"#{appguid}\"\nAPP_TYPE=\"#{applicationtype}\"\nAPP_MODE=\"#{applicationmode}\"\nJMXADDR=\"#{jmxhostaddress}\"\nJMXPORT=\"#{jmxhostport}\"\n\necho sudo bash /opt/spm/bin/spm-client-setup-conf.sh ${APP_GUID} ${APP_TYPE} ${APP_MODE} jmxhost:${JMXADDR} jmxport:${JMXPORT}\nsudo bash /opt/spm/bin/spm-client-setup-conf.sh ${APP_GUID} ${APP_TYPE} ${APP_MODE} jmxhost:${JMXADDR} jmxport:${JMXPORT}\nsudo service spm-monitor restart",
    "Octopus.Action.Script.ScriptFileName": null,
    "Octopus.Action.Package.FeedId": null,
    "Octopus.Action.Package.PackageId": null
  },
  "Category": "Linux",
  "HistoryUrl": "https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/configure-spm-client.json",
  "Website": "/step-templates/044392b0-5ee7-4f8d-b961-016f07ec6d50",
  "Logo": "https://i.octopus.com/library/step-templates/linux.png",
  "$Meta": {
    "Type": "ActionTemplate"
  }
}
```

[History](https://github.com/OctopusDeploy/Library/commits/master/step-templates/https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/configure-spm-client.json)

</div>
