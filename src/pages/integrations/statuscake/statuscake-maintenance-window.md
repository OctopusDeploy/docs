---
layout: src/layouts/Default.astro
pubDate: 2021-03-15
title: 'StatusCake Maintenance Window'
description: 'Creates a maintenance window in Status Cake for a given set of tests.'
# This file is auto-generated by docs/tools/MarkdownGenerator (detail.js)
---

Octopus.Script exported 2021-03-15 by svenkle belongs to 'StatusCake' category.

## Parameters

When steps based on the template are included in a project's deployment process, the parameters below can be set.


<div class="param">

### API Key

`StatusCake.ApiKey = `

null

</div>
        
<div class="param">

### Username

`StatusCake.Username = `

null

</div>
        
<div class="param">

### Name

`StatusCake.Name = `

Description to be shown in StatusCake for the maintenance window.

</div>
        
<div class="param">

### Test IDs

`StatusCake.TestIds = `

Comma separated list of StatusCake Test IDs.

</div>
        
<div class="param">

### Timezone

`StatusCake.Timezone = UTC`

Timezone the maintenance window is defined in.

</div>
        
<div class="param">

### Length

`StatusCake.Length = `

Amount of time in minutes that the maintenance window should remain active.

</div>
        

## Script body

Steps based on this template will execute the following *PowerShell* script.

```PowerShell
$apiKey = $OctopusParameters["StatusCake.ApiKey"]
$username = $OctopusParameters["StatusCake.Username"]
$name = $OctopusParameters["StatusCake.Name"]
$tid = $OctopusParameters["StatusCake.TestIds"]
$timezone = $OctopusParameters["StatusCake.Timezone"]
$length = $OctopusParameters["StatusCake.Length"]

$now = (Get-Date).ToUniversalTime()
$start = [int64](Get-Date($now) -UFormat %s)
$end = [int64](Get-Date($now.AddMinutes($length)) -UFormat %s)

$headers = @{
    "API" = $apiKey;
    "Username" = $username
}

$body = @{
    "name" = $name;
    "start_unix" = $start;
    "end_unix" = $end;
    "raw_tests" = $tid;
    "timezone" = $timezone;
}

Invoke-WebRequest -Uri https://app.statuscake.com/API/Maintenance/Update -Method POST -Headers $headers -Body $body -UseBasicParsing
```

Provided under the [Apache License version 2.0](https://github.com/OctopusDeploy/Library/blob/master/LICENSE.txt).

[Report an issue](https://github.com/OctopusDeploy/Library/issues/new?assignees=&labels=&projects=&template=bug-report.yml&title=Issue%20with%20StatusCake%20Maintenance%20Window&step-template=StatusCake%20Maintenance%20Window)

<div class="get-json">

To use this template in Octopus Deploy, copy the JSON below and paste it into the **Library → Step templates → Import** dialog.

```json
{
  "Id": "48668ad0-898f-482b-a529-90421d8ad459",
  "Name": "StatusCake Maintenance Window",
  "Description": "Creates a maintenance window in Status Cake for a given set of tests.",
  "Version": 2,
  "ExportedAt": "2021-03-15T06:00:28.045Z",
  "ActionType": "Octopus.Script",
  "Author": "svenkle",
  "Packages": [],
  "Parameters": [
    {
      "Id": "c8044bd0-ffa4-405f-8081-3ab4f82785bf",
      "Name": "StatusCake.ApiKey",
      "Label": "API Key",
      "HelpText": null,
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "Sensitive"
      }
    },
    {
      "Id": "182c44a5-7545-4c26-8597-d2cd3ccc8a0d",
      "Name": "StatusCake.Username",
      "Label": "Username",
      "HelpText": null,
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Id": "e210df57-ac9a-41bb-8f95-51b2595b190d",
      "Name": "StatusCake.Name",
      "Label": "Name",
      "HelpText": "Description to be shown in StatusCake for the maintenance window.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Id": "3a9c7c6b-e07a-471c-91b4-ad827581a770",
      "Name": "StatusCake.TestIds",
      "Label": "Test IDs",
      "HelpText": "Comma separated list of StatusCake Test IDs.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Id": "e6c36ebb-73c4-4eda-95f6-cee06d93baad",
      "Name": "StatusCake.Timezone",
      "Label": "Timezone",
      "HelpText": "Timezone the maintenance window is defined in.",
      "DefaultValue": "UTC",
      "DisplaySettings": {
        "Octopus.ControlType": "Select",
        "Octopus.SelectOptions": "UTC|UTC\nAfrica/Abidjan|Africa/Abidjan\nAfrica/Accra|Africa/Accra\nAfrica/Addis_Ababa|Africa/Addis_Ababa\nAfrica/Algiers|Africa/Algiers\nAfrica/Asmara|Africa/Asmara\nAfrica/Bamako|Africa/Bamako\nAfrica/Bangui|Africa/Bangui\nAfrica/Banjul|Africa/Banjul\nAfrica/Bissau|Africa/Bissau\nAfrica/Blantyre|Africa/Blantyre\nAfrica/Brazzaville|Africa/Brazzaville\nAfrica/Bujumbura|Africa/Bujumbura\nAfrica/Cairo|Africa/Cairo\nAfrica/Casablanca|Africa/Casablanca\nAfrica/Ceuta|Africa/Ceuta\nAfrica/Conakry|Africa/Conakry\nAfrica/Dakar|Africa/Dakar\nAfrica/Dar_es_Salaam|Africa/Dar_es_Salaam\nAfrica/Djibouti|Africa/Djibouti\nAfrica/Douala|Africa/Douala\nAfrica/El_Aaiun|Africa/El_Aaiun\nAfrica/Freetown|Africa/Freetown\nAfrica/Gaborone|Africa/Gaborone\nAfrica/Harare|Africa/Harare\nAfrica/Johannesburg|Africa/Johannesburg\nAfrica/Juba|Africa/Juba\nAfrica/Kampala|Africa/Kampala\nAfrica/Khartoum|Africa/Khartoum\nAfrica/Kigali|Africa/Kigali\nAfrica/Kinshasa|Africa/Kinshasa\nAfrica/Lagos|Africa/Lagos\nAfrica/Libreville|Africa/Libreville\nAfrica/Lome|Africa/Lome\nAfrica/Luanda|Africa/Luanda\nAfrica/Lubumbashi|Africa/Lubumbashi\nAfrica/Lusaka|Africa/Lusaka\nAfrica/Malabo|Africa/Malabo\nAfrica/Maputo|Africa/Maputo\nAfrica/Maseru|Africa/Maseru\nAfrica/Mbabane|Africa/Mbabane\nAfrica/Mogadishu|Africa/Mogadishu\nAfrica/Monrovia|Africa/Monrovia\nAfrica/Nairobi|Africa/Nairobi\nAfrica/Ndjamena|Africa/Ndjamena\nAfrica/Niamey|Africa/Niamey\nAfrica/Nouakchott|Africa/Nouakchott\nAfrica/Ouagadougou|Africa/Ouagadougou\nAfrica/Porto-Novo|Africa/Porto-Novo\nAfrica/Sao_Tome|Africa/Sao_Tome\nAfrica/Tripoli|Africa/Tripoli\nAfrica/Tunis|Africa/Tunis\nAfrica/Windhoek|Africa/Windhoek\nAmerica/Adak|America/Adak\nAmerica/Anchorage|America/Anchorage\nAmerica/Anguilla|America/Anguilla\nAmerica/Antigua|America/Antigua\nAmerica/Araguaina|America/Araguaina\nAmerica/Argentina/Buenos_Aires|America/Argentina/Buenos_Aires\nAmerica/Argentina/Catamarca|America/Argentina/Catamarca\nAmerica/Argentina/Cordoba|America/Argentina/Cordoba\nAmerica/Argentina/Jujuy|America/Argentina/Jujuy\nAmerica/Argentina/La_Rioja|America/Argentina/La_Rioja\nAmerica/Argentina/Mendoza|America/Argentina/Mendoza\nAmerica/Argentina/Rio_Gallegos|America/Argentina/Rio_Gallegos\nAmerica/Argentina/Salta|America/Argentina/Salta\nAmerica/Argentina/San_Juan|America/Argentina/San_Juan\nAmerica/Argentina/San_Luis|America/Argentina/San_Luis\nAmerica/Argentina/Tucuman|America/Argentina/Tucuman\nAmerica/Argentina/Ushuaia|America/Argentina/Ushuaia\nAmerica/Aruba|America/Aruba\nAmerica/Asuncion|America/Asuncion\nAmerica/Atikokan|America/Atikokan\nAmerica/Bahia|America/Bahia\nAmerica/Bahia_Banderas|America/Bahia_Banderas\nAmerica/Barbados|America/Barbados\nAmerica/Belem|America/Belem\nAmerica/Belize|America/Belize\nAmerica/Blanc-Sablon|America/Blanc-Sablon\nAmerica/Boa_Vista|America/Boa_Vista\nAmerica/Bogota|America/Bogota\nAmerica/Boise|America/Boise\nAmerica/Cambridge_Bay|America/Cambridge_Bay\nAmerica/Campo_Grande|America/Campo_Grande\nAmerica/Cancun|America/Cancun\nAmerica/Caracas|America/Caracas\nAmerica/Cayenne|America/Cayenne\nAmerica/Cayman|America/Cayman\nAmerica/Chicago|America/Chicago\nAmerica/Chihuahua|America/Chihuahua\nAmerica/Costa_Rica|America/Costa_Rica\nAmerica/Creston|America/Creston\nAmerica/Cuiaba|America/Cuiaba\nAmerica/Curacao|America/Curacao\nAmerica/Danmarkshavn|America/Danmarkshavn\nAmerica/Dawson|America/Dawson\nAmerica/Dawson_Creek|America/Dawson_Creek\nAmerica/Denver|America/Denver\nAmerica/Detroit|America/Detroit\nAmerica/Dominica|America/Dominica\nAmerica/Edmonton|America/Edmonton\nAmerica/Eirunepe|America/Eirunepe\nAmerica/El_Salvador|America/El_Salvador\nAmerica/Fort_Nelson|America/Fort_Nelson\nAmerica/Fortaleza|America/Fortaleza\nAmerica/Glace_Bay|America/Glace_Bay\nAmerica/Godthab|America/Godthab\nAmerica/Goose_Bay|America/Goose_Bay\nAmerica/Grand_Turk|America/Grand_Turk\nAmerica/Grenada|America/Grenada\nAmerica/Guadeloupe|America/Guadeloupe\nAmerica/Guatemala|America/Guatemala\nAmerica/Guayaquil|America/Guayaquil\nAmerica/Guyana|America/Guyana\nAmerica/Halifax|America/Halifax\nAmerica/Havana|America/Havana\nAmerica/Hermosillo|America/Hermosillo\nAmerica/Indiana/Indianapolis|America/Indiana/Indianapolis\nAmerica/Indiana/Knox|America/Indiana/Knox\nAmerica/Indiana/Marengo|America/Indiana/Marengo\nAmerica/Indiana/Petersburg|America/Indiana/Petersburg\nAmerica/Indiana/Tell_City|America/Indiana/Tell_City\nAmerica/Indiana/Vevay|America/Indiana/Vevay\nAmerica/Indiana/Vincennes|America/Indiana/Vincennes\nAmerica/Indiana/Winamac|America/Indiana/Winamac\nAmerica/Inuvik|America/Inuvik\nAmerica/Iqaluit|America/Iqaluit\nAmerica/Jamaica|America/Jamaica\nAmerica/Juneau|America/Juneau\nAmerica/Kentucky/Louisville|America/Kentucky/Louisville\nAmerica/Kentucky/Monticello|America/Kentucky/Monticello\nAmerica/Kralendijk|America/Kralendijk\nAmerica/La_Paz|America/La_Paz\nAmerica/Lima|America/Lima\nAmerica/Los_Angeles|America/Los_Angeles\nAmerica/Lower_Princes|America/Lower_Princes\nAmerica/Maceio|America/Maceio\nAmerica/Managua|America/Managua\nAmerica/Manaus|America/Manaus\nAmerica/Marigot|America/Marigot\nAmerica/Martinique|America/Martinique\nAmerica/Matamoros|America/Matamoros\nAmerica/Mazatlan|America/Mazatlan\nAmerica/Menominee|America/Menominee\nAmerica/Merida|America/Merida\nAmerica/Metlakatla|America/Metlakatla\nAmerica/Mexico_City|America/Mexico_City\nAmerica/Miquelon|America/Miquelon\nAmerica/Moncton|America/Moncton\nAmerica/Monterrey|America/Monterrey\nAmerica/Montevideo|America/Montevideo\nAmerica/Montserrat|America/Montserrat\nAmerica/Nassau|America/Nassau\nAmerica/New_York|America/New_York\nAmerica/Nipigon|America/Nipigon\nAmerica/Nome|America/Nome\nAmerica/Noronha|America/Noronha\nAmerica/North_Dakota/Beulah|America/North_Dakota/Beulah\nAmerica/North_Dakota/Center|America/North_Dakota/Center\nAmerica/North_Dakota/New_Salem|America/North_Dakota/New_Salem\nAmerica/Ojinaga|America/Ojinaga\nAmerica/Panama|America/Panama\nAmerica/Pangnirtung|America/Pangnirtung\nAmerica/Paramaribo|America/Paramaribo\nAmerica/Phoenix|America/Phoenix\nAmerica/Port-au-Prince|America/Port-au-Prince\nAmerica/Port_of_Spain|America/Port_of_Spain\nAmerica/Porto_Velho|America/Porto_Velho\nAmerica/Puerto_Rico|America/Puerto_Rico\nAmerica/Rainy_River|America/Rainy_River\nAmerica/Rankin_Inlet|America/Rankin_Inlet\nAmerica/Recife|America/Recife\nAmerica/Regina|America/Regina\nAmerica/Resolute|America/Resolute\nAmerica/Rio_Branco|America/Rio_Branco\nAmerica/Santarem|America/Santarem\nAmerica/Santiago|America/Santiago\nAmerica/Santo_Domingo|America/Santo_Domingo\nAmerica/Sao_Paulo|America/Sao_Paulo\nAmerica/Scoresbysund|America/Scoresbysund\nAmerica/Sitka|America/Sitka\nAmerica/St_Barthelemy|America/St_Barthelemy\nAmerica/St_Johns|America/St_Johns\nAmerica/St_Kitts|America/St_Kitts\nAmerica/St_Lucia|America/St_Lucia\nAmerica/St_Thomas|America/St_Thomas\nAmerica/St_Vincent|America/St_Vincent\nAmerica/Swift_Current|America/Swift_Current\nAmerica/Tegucigalpa|America/Tegucigalpa\nAmerica/Thule|America/Thule\nAmerica/Thunder_Bay|America/Thunder_Bay\nAmerica/Tijuana|America/Tijuana\nAmerica/Toronto|America/Toronto\nAmerica/Tortola|America/Tortola\nAmerica/Vancouver|America/Vancouver\nAmerica/Whitehorse|America/Whitehorse\nAmerica/Winnipeg|America/Winnipeg\nAmerica/Yakutat|America/Yakutat\nAmerica/Yellowknife|America/Yellowknife\nAntarctica/Casey|Antarctica/Casey\nAntarctica/Davis|Antarctica/Davis\nAntarctica/DumontDUrville|Antarctica/DumontDUrville\nAntarctica/Macquarie|Antarctica/Macquarie\nAntarctica/Mawson|Antarctica/Mawson\nAntarctica/McMurdo|Antarctica/McMurdo\nAntarctica/Palmer|Antarctica/Palmer\nAntarctica/Rothera|Antarctica/Rothera\nAntarctica/Syowa|Antarctica/Syowa\nAntarctica/Troll|Antarctica/Troll\nAntarctica/Vostok|Antarctica/Vostok\nArctic/Longyearbyen|Arctic/Longyearbyen\nAsia/Aden|Asia/Aden\nAsia/Almaty|Asia/Almaty\nAsia/Amman|Asia/Amman\nAsia/Anadyr|Asia/Anadyr\nAsia/Aqtau|Asia/Aqtau\nAsia/Aqtobe|Asia/Aqtobe\nAsia/Ashgabat|Asia/Ashgabat\nAsia/Atyrau|Asia/Atyrau\nAsia/Baghdad|Asia/Baghdad\nAsia/Bahrain|Asia/Bahrain\nAsia/Baku|Asia/Baku\nAsia/Bangkok|Asia/Bangkok\nAsia/Barnaul|Asia/Barnaul\nAsia/Beirut|Asia/Beirut\nAsia/Bishkek|Asia/Bishkek\nAsia/Brunei|Asia/Brunei\nAsia/Chita|Asia/Chita\nAsia/Choibalsan|Asia/Choibalsan\nAsia/Colombo|Asia/Colombo\nAsia/Damascus|Asia/Damascus\nAsia/Dhaka|Asia/Dhaka\nAsia/Dili|Asia/Dili\nAsia/Dubai|Asia/Dubai\nAsia/Dushanbe|Asia/Dushanbe\nAsia/Famagusta|Asia/Famagusta\nAsia/Gaza|Asia/Gaza\nAsia/Hebron|Asia/Hebron\nAsia/Ho_Chi_Minh|Asia/Ho_Chi_Minh\nAsia/Hong_Kong|Asia/Hong_Kong\nAsia/Hovd|Asia/Hovd\nAsia/Irkutsk|Asia/Irkutsk\nAsia/Jakarta|Asia/Jakarta\nAsia/Jayapura|Asia/Jayapura\nAsia/Jerusalem|Asia/Jerusalem\nAsia/Kabul|Asia/Kabul\nAsia/Kamchatka|Asia/Kamchatka\nAsia/Karachi|Asia/Karachi\nAsia/Kathmandu|Asia/Kathmandu\nAsia/Khandyga|Asia/Khandyga\nAsia/Kolkata|Asia/Kolkata\nAsia/Krasnoyarsk|Asia/Krasnoyarsk\nAsia/Kuala_Lumpur|Asia/Kuala_Lumpur\nAsia/Kuching|Asia/Kuching\nAsia/Kuwait|Asia/Kuwait\nAsia/Macau|Asia/Macau\nAsia/Magadan|Asia/Magadan\nAsia/Makassar|Asia/Makassar\nAsia/Manila|Asia/Manila\nAsia/Muscat|Asia/Muscat\nAsia/Nicosia|Asia/Nicosia\nAsia/Novokuznetsk|Asia/Novokuznetsk\nAsia/Novosibirsk|Asia/Novosibirsk\nAsia/Omsk|Asia/Omsk\nAsia/Oral|Asia/Oral\nAsia/Phnom_Penh|Asia/Phnom_Penh\nAsia/Pontianak|Asia/Pontianak\nAsia/Pyongyang|Asia/Pyongyang\nAsia/Qatar|Asia/Qatar\nAsia/Qyzylorda|Asia/Qyzylorda\nAsia/Riyadh|Asia/Riyadh\nAsia/Sakhalin|Asia/Sakhalin\nAsia/Samarkand|Asia/Samarkand\nAsia/Seoul|Asia/Seoul\nAsia/Shanghai|Asia/Shanghai\nAsia/Singapore|Asia/Singapore\nAsia/Srednekolymsk|Asia/Srednekolymsk\nAsia/Taipei|Asia/Taipei\nAsia/Tashkent|Asia/Tashkent\nAsia/Tbilisi|Asia/Tbilisi\nAsia/Tehran|Asia/Tehran\nAsia/Thimphu|Asia/Thimphu\nAsia/Tokyo|Asia/Tokyo\nAsia/Tomsk|Asia/Tomsk\nAsia/Ulaanbaatar|Asia/Ulaanbaatar\nAsia/Urumqi|Asia/Urumqi\nAsia/Ust-Nera|Asia/Ust-Nera\nAsia/Vientiane|Asia/Vientiane\nAsia/Vladivostok|Asia/Vladivostok\nAsia/Yakutsk|Asia/Yakutsk\nAsia/Yangon|Asia/Yangon\nAsia/Yekaterinburg|Asia/Yekaterinburg\nAsia/Yerevan|Asia/Yerevan\nAtlantic/Azores|Atlantic/Azores\nAtlantic/Bermuda|Atlantic/Bermuda\nAtlantic/Canary|Atlantic/Canary\nAtlantic/Cape_Verde|Atlantic/Cape_Verde\nAtlantic/Faroe|Atlantic/Faroe\nAtlantic/Madeira|Atlantic/Madeira\nAtlantic/Reykjavik|Atlantic/Reykjavik\nAtlantic/South_Georgia|Atlantic/South_Georgia\nAtlantic/St_Helena|Atlantic/St_Helena\nAtlantic/Stanley|Atlantic/Stanley\nAustralia/Adelaide|Australia/Adelaide\nAustralia/Brisbane|Australia/Brisbane\nAustralia/Broken_Hill|Australia/Broken_Hill\nAustralia/Currie|Australia/Currie\nAustralia/Darwin|Australia/Darwin\nAustralia/Eucla|Australia/Eucla\nAustralia/Hobart|Australia/Hobart\nAustralia/Lindeman|Australia/Lindeman\nAustralia/Lord_Howe|Australia/Lord_Howe\nAustralia/Melbourne|Australia/Melbourne\nAustralia/Perth|Australia/Perth\nAustralia/Sydney|Australia/Sydney\nEurope/Amsterdam|Europe/Amsterdam\nEurope/Andorra|Europe/Andorra\nEurope/Astrakhan|Europe/Astrakhan\nEurope/Athens|Europe/Athens\nEurope/Belgrade|Europe/Belgrade\nEurope/Berlin|Europe/Berlin\nEurope/Bratislava|Europe/Bratislava\nEurope/Brussels|Europe/Brussels\nEurope/Bucharest|Europe/Bucharest\nEurope/Budapest|Europe/Budapest\nEurope/Busingen|Europe/Busingen\nEurope/Chisinau|Europe/Chisinau\nEurope/Copenhagen|Europe/Copenhagen\nEurope/Dublin|Europe/Dublin\nEurope/Gibraltar|Europe/Gibraltar\nEurope/Guernsey|Europe/Guernsey\nEurope/Helsinki|Europe/Helsinki\nEurope/Isle_of_Man|Europe/Isle_of_Man\nEurope/Istanbul|Europe/Istanbul\nEurope/Jersey|Europe/Jersey\nEurope/Kaliningrad|Europe/Kaliningrad\nEurope/Kiev|Europe/Kiev\nEurope/Kirov|Europe/Kirov\nEurope/Lisbon|Europe/Lisbon\nEurope/Ljubljana|Europe/Ljubljana\nEurope/London|Europe/London\nEurope/Luxembourg|Europe/Luxembourg\nEurope/Madrid|Europe/Madrid\nEurope/Malta|Europe/Malta\nEurope/Mariehamn|Europe/Mariehamn\nEurope/Minsk|Europe/Minsk\nEurope/Monaco|Europe/Monaco\nEurope/Moscow|Europe/Moscow\nEurope/Oslo|Europe/Oslo\nEurope/Paris|Europe/Paris\nEurope/Podgorica|Europe/Podgorica\nEurope/Prague|Europe/Prague\nEurope/Riga|Europe/Riga\nEurope/Rome|Europe/Rome\nEurope/Samara|Europe/Samara\nEurope/San_Marino|Europe/San_Marino\nEurope/Sarajevo|Europe/Sarajevo\nEurope/Saratov|Europe/Saratov\nEurope/Simferopol|Europe/Simferopol\nEurope/Skopje|Europe/Skopje\nEurope/Sofia|Europe/Sofia\nEurope/Stockholm|Europe/Stockholm\nEurope/Tallinn|Europe/Tallinn\nEurope/Tirane|Europe/Tirane\nEurope/Ulyanovsk|Europe/Ulyanovsk\nEurope/Uzhgorod|Europe/Uzhgorod\nEurope/Vaduz|Europe/Vaduz\nEurope/Vatican|Europe/Vatican\nEurope/Vienna|Europe/Vienna\nEurope/Vilnius|Europe/Vilnius\nEurope/Volgograd|Europe/Volgograd\nEurope/Warsaw|Europe/Warsaw\nEurope/Zagreb|Europe/Zagreb\nEurope/Zaporozhye|Europe/Zaporozhye\nEurope/Zurich|Europe/Zurich\nIndian/Antananarivo|Indian/Antananarivo\nIndian/Chagos|Indian/Chagos\nIndian/Christmas|Indian/Christmas\nIndian/Cocos|Indian/Cocos\nIndian/Comoro|Indian/Comoro\nIndian/Kerguelen|Indian/Kerguelen\nIndian/Mahe|Indian/Mahe\nIndian/Maldives|Indian/Maldives\nIndian/Mauritius|Indian/Mauritius\nIndian/Mayotte|Indian/Mayotte\nIndian/Reunion|Indian/Reunion\nPacific/Apia|Pacific/Apia\nPacific/Auckland|Pacific/Auckland\nPacific/Bougainville|Pacific/Bougainville\nPacific/Chatham|Pacific/Chatham\nPacific/Chuuk|Pacific/Chuuk\nPacific/Easter|Pacific/Easter\nPacific/Efate|Pacific/Efate\nPacific/Enderbury|Pacific/Enderbury\nPacific/Fakaofo|Pacific/Fakaofo\nPacific/Fiji|Pacific/Fiji\nPacific/Funafuti|Pacific/Funafuti\nPacific/Galapagos|Pacific/Galapagos\nPacific/Gambier|Pacific/Gambier\nPacific/Guadalcanal|Pacific/Guadalcanal\nPacific/Guam|Pacific/Guam\nPacific/Honolulu|Pacific/Honolulu\nPacific/Johnston|Pacific/Johnston\nPacific/Kiritimati|Pacific/Kiritimati\nPacific/Kosrae|Pacific/Kosrae\nPacific/Kwajalein|Pacific/Kwajalein\nPacific/Majuro|Pacific/Majuro\nPacific/Marquesas|Pacific/Marquesas\nPacific/Midway|Pacific/Midway\nPacific/Nauru|Pacific/Nauru\nPacific/Niue|Pacific/Niue\nPacific/Norfolk|Pacific/Norfolk\nPacific/Noumea|Pacific/Noumea\nPacific/Pago_Pago|Pacific/Pago_Pago\nPacific/Palau|Pacific/Palau\nPacific/Pitcairn|Pacific/Pitcairn\nPacific/Pohnpei|Pacific/Pohnpei\nPacific/Port_Moresby|Pacific/Port_Moresby\nPacific/Rarotonga|Pacific/Rarotonga\nPacific/Saipan|Pacific/Saipan\nPacific/Tahiti|Pacific/Tahiti\nPacific/Tarawa|Pacific/Tarawa\nPacific/Tongatapu|Pacific/Tongatapu\nPacific/Wake|Pacific/Wake\nPacific/Wallis|Pacific/Wallis"
      }
    },
    {
      "Id": "e6b909fa-80f5-440c-9c9e-6851455dd3ff",
      "Name": "StatusCake.Length",
      "Label": "Length",
      "HelpText": "Amount of time in minutes that the maintenance window should remain active.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    }
  ],
  "Properties": {
    "Octopus.Action.Script.ScriptSource": "Inline",
    "Octopus.Action.Script.Syntax": "PowerShell",
    "Octopus.Action.Script.ScriptBody": "$apiKey = $OctopusParameters[\"StatusCake.ApiKey\"]\n$username = $OctopusParameters[\"StatusCake.Username\"]\n$name = $OctopusParameters[\"StatusCake.Name\"]\n$tid = $OctopusParameters[\"StatusCake.TestIds\"]\n$timezone = $OctopusParameters[\"StatusCake.Timezone\"]\n$length = $OctopusParameters[\"StatusCake.Length\"]\n\n$now = (Get-Date).ToUniversalTime()\n$start = [int64](Get-Date($now) -UFormat %s)\n$end = [int64](Get-Date($now.AddMinutes($length)) -UFormat %s)\n\n$headers = @{\n    \"API\" = $apiKey;\n    \"Username\" = $username\n}\n\n$body = @{\n    \"name\" = $name;\n    \"start_unix\" = $start;\n    \"end_unix\" = $end;\n    \"raw_tests\" = $tid;\n    \"timezone\" = $timezone;\n}\n\nInvoke-WebRequest -Uri https://app.statuscake.com/API/Maintenance/Update -Method POST -Headers $headers -Body $body -UseBasicParsing",
    "Octopus.Action.PowerShell.Edition": "Desktop",
    "Octopus.Action.EnabledFeatures": "Octopus.Features.SelectPowerShellEditionForWindows"
  },
  "Category": "StatusCake",
  "HistoryUrl": "https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/statuscake-maintenance-window.json",
  "Website": "/step-templates/48668ad0-898f-482b-a529-90421d8ad459",
  "Logo": "https://i.octopus.com/library/step-templates/statuscake.png",
  "$Meta": {
    "Type": "ActionTemplate"
  }
}
```

[History](https://github.com/OctopusDeploy/Library/commits/master/step-templates/https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/statuscake-maintenance-window.json)

</div>
