---
layout: src/layouts/Default.astro
pubDate: 2020-05-19
title: 'Install Docker on Windows Server'
description: 'Automates the steps from [here](https://docs.microsoft.com/en-us/virtualization/windowscontainers/quick-start/set-up-environment?tabs=Windows-Server#install-docker).

This step reboots the machine.'
# This file is auto-generated by docs/tools/MarkdownGenerator (detail.js)
---

Octopus.Script exported 2020-05-19 by MJRichardson belongs to 'Docker' category.

## Parameters

When steps based on the template are included in a project's deployment process, the parameters below can be set.



## Script body

Steps based on this template will execute the following *PowerShell* script.

```PowerShell
Find-PackageProvider -Name 'Nuget' -ForceBootstrap -IncludeDependencies

$DockerModule = Get-Module -ListAvailable -Name DockerMsftProvider 
if (-Not $DockerModule) {
    Write-Host "Installing DockerMsftProvider module"
    Install-Module -Name DockerMsftProvider -Repository PSGallery -Force
} else {
    Write-Host "DockerMsftProvider module already installed"
}

try {
	$DockerPackage = Get-Package -Name docker
} catch [Exception] {}

if (-Not $DockerPackage) {
    Write-Host "Installing docker package"
    Install-Package -Name docker -ProviderName DockerMsftProvider -Force

    Write-Host "Restarting machine..."
    Restart-Computer -Force
} else {
    Write-Host "docker package already installed"
}
```

Provided under the [Apache License version 2.0](https://github.com/OctopusDeploy/Library/blob/master/LICENSE.txt).

[Report an issue](https://github.com/OctopusDeploy/Library/issues/new?assignees=&labels=&projects=&template=bug-report.yml&title=Issue%20with%20Install%20Docker%20on%20Windows%20Server&step-template=Install%20Docker%20on%20Windows%20Server)

<div class="get-json">

To use this template in Octopus Deploy, copy the JSON below and paste it into the **Library → Step templates → Import** dialog.

```json
{
  "Id": "3f78a32f-d074-43cc-a009-793f72b204f3",
  "Name": "Install Docker on Windows Server",
  "Description": "Automates the steps from [here](https://docs.microsoft.com/en-us/virtualization/windowscontainers/quick-start/set-up-environment?tabs=Windows-Server#install-docker).\n\nThis step reboots the machine.",
  "Version": 1,
  "ExportedAt": "2020-05-19T03:10:21.233Z",
  "ActionType": "Octopus.Script",
  "Author": "MJRichardson",
  "Packages": [],
  "Parameters": [],
  "Properties": {
    "Octopus.Action.Script.ScriptSource": "Inline",
    "Octopus.Action.Script.Syntax": "PowerShell",
    "Octopus.Action.Script.ScriptBody": "Find-PackageProvider -Name 'Nuget' -ForceBootstrap -IncludeDependencies\n\n$DockerModule = Get-Module -ListAvailable -Name DockerMsftProvider \nif (-Not $DockerModule) {\n    Write-Host \"Installing DockerMsftProvider module\"\n    Install-Module -Name DockerMsftProvider -Repository PSGallery -Force\n} else {\n    Write-Host \"DockerMsftProvider module already installed\"\n}\n\ntry {\n\t$DockerPackage = Get-Package -Name docker\n} catch [Exception] {}\n\nif (-Not $DockerPackage) {\n    Write-Host \"Installing docker package\"\n    Install-Package -Name docker -ProviderName DockerMsftProvider -Force\n\n    Write-Host \"Restarting machine...\"\n    Restart-Computer -Force\n} else {\n    Write-Host \"docker package already installed\"\n}"
  },
  "Category": "Docker",
  "HistoryUrl": "https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/docker-install-windows.json",
  "Website": "/step-templates/3f78a32f-d074-43cc-a009-793f72b204f3",
  "Logo": "https://i.octopus.com/library/step-templates/docker.png",
  "$Meta": {
    "Type": "ActionTemplate"
  }
}
```

[History](https://github.com/OctopusDeploy/Library/commits/master/step-templates/https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/docker-install-windows.json)

</div>
