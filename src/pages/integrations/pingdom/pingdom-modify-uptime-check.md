---
layout: src/layouts/Default.astro
pubDate: 2018-06-11
title: 'Pingdom - Modify Uptime Check'
description: >-
    Modifies Pingdom http check using [Modify Check API method](https://www.pingdom.com/resources/api#MethodModify+Check).
navMenu: false
# Set to true when launched
navSitemap: false
navSearch: false
# This file is auto-generated by docs/tools/MarkdownGenerator (detail.js)
---

Octopus.Script exported 2018-06-11 by sarbis belongs to 'Pingdom' category.

## Parameters

When steps based on the template are included in a project's deployment process, the parameters below can be set.


<div class="param">

### Username

`Pingdom.Username = `

Mandatory.

</div>
        
<div class="param">

### Password

`Pingdom.Password = `

Mandatory.

</div>
        
<div class="param">

### App key

`Pingdom.AppKey = `

Mandatory.

</div>
        
<div class="param">

### Id

`Pingdom.CheckId = `

null

</div>
        
<div class="param">

### Name

`Pingdom.CheckName = `

null

</div>
        
<div class="param">

### Paused

`Pingdom.CheckPaused = `

null

</div>
        
<div class="param">

### Error when failed

`Pingdom.ThrowErrorWhenFailed = `

When checked, throws Octopus exception if template script has failed.

</div>
        

## Script body

Steps based on this template will execute the following *PowerShell* script.

```powershell
# Ref: https://www.pingdom.com/resources/api#MethodModify+Check

Function Get-Parameter() {
    Param(
        [parameter(Mandatory=$true)]
        [string]$Name, 
        [switch]$Required, 
        $Default, 
        [switch]$FailOnValidate
    )

    $result = $null
    $errMessage = [string]::Empty

    If ($OctopusParameters -ne $null) {
        $result = $OctopusParameters[$Name]
        Write-Host ("Octopus parameter value for " + $Name + ": " + $result)
    }

    If ($result -eq $null) {
        $variable = Get-Variable $Name -EA SilentlyContinue
        if ($variable -ne $null) {
            $result = $variable.Value
        }
    }

    If ($result -eq $null -or [string]::IsNullOrEmpty($result)) {
        If ($Required) {
            $errMessage = "Missing value for $Name"
        } ElseIf (-Not $Default -eq $null) {
            Write-Host ("Default value: " + $Default)
            $result = $Default
        }
    }

    If (-Not [string]::IsNullOrEmpty($errMessage)) {
        If ($FailOnValidate) {
            Throw $errMessage
        } Else {
            Write-Warning $errMessage
        }
    }

    return $result
}

& {
    Write-Host "Start PingdomModifyUptimeCheck"

    Add-Type -AssemblyName System.Web

    [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12

    $throwErrorWhenFailed = [System.Convert]::ToBoolean([string](Get-Parameter -Name "Pingdom.ThrowErrorWhenFailed" -Default "False"))

    $pingdomUsername = [string] (Get-Parameter -Name "Pingdom.Username" -Required -FailOnValidate:$throwErrorWhenFailed)
    $pingdomPassword = [string] (Get-Parameter -Name "Pingdom.Password" -Required -FailOnValidate:$throwErrorWhenFailed)
    $pingdomAppKey = [string] (Get-Parameter -Name "Pingdom.AppKey" -Required -FailOnValidate:$throwErrorWhenFailed)

    $pingdomCheckId = [string] (Get-Parameter -Name "Pingdom.CheckId" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckPaused = [string] (Get-Parameter -Name "Pingdom.CheckPaused" -Default "False" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckName = [string] (Get-Parameter -Name "Pingdom.CheckName" -Required -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckTarget = [string] (Get-Parameter -Name "Pingdom.CheckTarget" -Required -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckIntervalMinutes = [System.Nullable[int]] (Get-Parameter -Name "Pingdom.CheckIntervalMinutes" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckContactIds = [string] (Get-Parameter -Name "Pingdom.CheckContactIds" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckSendNotificationWhenDown = [System.Nullable[int]] (Get-Parameter -Name "Pingdom.CheckSendNotificationWhenDown" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckNotifyAgainEvery = [System.Nullable[int]] (Get-Parameter -Name "Pingdom.CheckNotifyAgainEvery" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckNotifyWhenBackUp = [string](Get-Parameter -Name "Pingdom.CheckNotifyWhenBackUp" -Default "True" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckTags = [string] (Get-Parameter -Name "Pingdom.CheckTags" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckHttpUrl = [string] (Get-Parameter -Name "Pingdom.CheckHttpUrl" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckHttpEncryptionEnabled = [string](Get-Parameter -Name "Pingdom.CheckHttpEncryptionEnabled" -Default "False" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckHttpTargetPort = [System.Nullable[int]] (Get-Parameter -Name "Pingdom.CheckHttpTargetPort" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckAuth = [string] (Get-Parameter -Name "Pingdom.CheckAuth" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckShouldContain = [string] (Get-Parameter -Name "Pingdom.CheckShouldContain" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckShouldNotContain = [string] (Get-Parameter -Name "Pingdom.CheckShouldNotContain" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckPostData = [string] (Get-Parameter -Name "Pingdom.CheckPostData" -FailOnValidate:$throwErrorWhenFailed)
    $pingdomCheckIntegrationIds = [string] (Get-Parameter -Name "Pingdom.CheckIntegrationIds" -FailOnValidate:$throwErrorWhenFailed)

    $apiVersion = "2.1"
    $url = "https://api.pingdom.com/api/{0}/checks" -f $apiVersion
    $securePassword = ConvertTo-SecureString $pingdomPassword -AsPlainText -Force
    $credential = New-Object System.Management.Automation.PSCredential($pingdomUsername, $securePassword)
    $headers = @{ 
        "App-Key" = $pingdomAppKey
    }

    If ([string]::IsNullOrEmpty($pingdomCheckId) -and [string]::IsNullOrEmpty($pingdomCheckName)) {
        $errMessage = "Please specify CheckId or CheckName!"
        If($throwErrorWhenFailed -eq $true) {
            Write-Error $errMessage
        }
        Else {
            Write-Warning $errMessage
        }
        Exit
    } 
    
    # Find check id by name

    If (-Not [string]::IsNullOrEmpty($pingdomCheckName)) {
        Write-Host "Getting uptime check list to find check by name: $url"
        Try {
            $response = Invoke-RestMethod -Uri $url -Method Get -ContentType "application/json" -Credential $credential -Headers $headers
        } Catch {
            Write-Host "Error occured when getting uptime check list in Pingdom: " + $_.Exception.Message
        }

        $checkFiltered = $response.checks | Where-Object { $_.name -eq $pingdomCheckName }
        If ($checkFiltered -eq $null) {
            Write-Warning "Check with name $pingdomCheckName not found!"
            Exit
        }

        $pingdomCheckId = $checkFiltered.id
    }

    If ([string]::IsNullOrEmpty($pingdomCheckId)) {
        Write-Warning "Check with name $pingdomCheckName was not found!"
        Exit
    }

    # Pause or resume check

    $url += "/$pingdomCheckId"

    $apiParameters = @{}
    $apiParameters.Add("host", $pingdomCheckTarget)
    $apiParameters.Add("contactids", $pingdomCheckContactIds)
    $apiParameters.Add("integrationids", $pingdomCheckIntegrationIds)
    If ($pingdomCheckPaused -eq "True") {
        $apiParameters.Add("paused", "true")
    } Else {
        $apiParameters.Add("paused", "false")
    }
    If ($pingdomCheckIntervalMinutes -ne $null) {
        $apiParameters.Add("resolution", $pingdomCheckIntervalMinutes)
    }
    If ($pingdomCheckSendNotificationWhenDown -ne $null) {
        $apiParameters.Add("sendnotificationwhendown", $pingdomCheckSendNotificationWhenDown)
    }
    If ($pingdomCheckNotifyAgainEvery -ne $null) {
        $apiParameters.Add("notifyagainevery", $pingdomCheckNotifyAgainEvery)
    }
    If ($pingdomCheckNotifyWhenBackUp -ne $null) {
        $apiParameters.Add("notifywhenbackup", $pingdomCheckNotifyWhenBackUp.ToLower())
    }
    If ($pingdomCheckTags -ne $null) {
        $apiParameters.Add("tags", $pingdomCheckTags)
    }
    If ($pingdomCheckHttpUrl -ne $null) {
        $apiParameters.Add("url", $pingdomCheckHttpUrl)
    }
    If ($pingdomCheckHttpEncryptionEnabled -ne $null) {
        $apiParameters.Add("encryption", $pingdomCheckHttpEncryptionEnabled.ToLower())
    }
    If ($pingdomCheckHttpTargetPort -ne $null) {
        $apiParameters.Add("port", $pingdomCheckHttpTargetPort)
    }
    If ($pingdomCheckAuth -ne $null) {
        $apiParameters.Add("auth", $pingdomCheckAuth)
    }
    If (-Not [string]::IsNullOrEmpty($pingdomCheckShouldContain)) {
        $apiParameters.Add("shouldcontain", $pingdomCheckShouldContain)
    }
    If (-Not [string]::IsNullOrEmpty($pingdomCheckShouldNotContain)) {
        $apiParameters.Add("shouldnotcontain", $pingdomCheckShouldNotContain)
    }
    If ($pingdomCheckPostData -ne $null) {
        $apiParameters.Add("postdata", $pingdomCheckPostData)
    }

    If ($apiParameters.Count -gt 0) {
        $queryString = ""
        $apiParameters.Keys | ForEach-Object { 
            $queryString += ($_ + "=" + [Web.HttpUtility]::UrlEncode($apiParameters.Item($_)) + "&")  
        }
        $queryString = $queryString.Substring(0, $queryString.Length - 1)
        $url += "?$queryString"
    }

    Write-Host "Modifying uptime check: $url"
    Try {
        $response = Invoke-RestMethod -Uri $url -Method Put -ContentType "application/json" -Credential $credential -Headers $headers
        Write-Host $response.message
    } Catch {
        $errMessage = "Error occured when adding uptime check in Pingdom: " + $_.Exception + "`n"
        $errMessage += "Response: " + $_
        If($throwErrorWhenFailed -eq $true) {
            Write-Error $errMessage
        }
        Else {
            Write-Warning $errMessage
        }
    }

    Write-Host "End PingdomModifyUptimeCheck"
}
```

Provided under the [Apache License version 2.0](https://github.com/OctopusDeploy/Library/blob/master/LICENSE.txt).

[Report an issue](https://github.com/OctopusDeploy/Library/issues/new?assignees=&labels=&projects=&template=bug-report.yml&title=Issue%20with%20Pingdom%20-%20Modify%20Uptime%20Check&step-template=Pingdom%20-%20Modify%20Uptime%20Check)

<div class="get-json">

To use this template in Octopus Deploy, copy the JSON below and paste it into the **Library → Step templates → Import** dialog.

```json
{
  "Id": "e2324451-0488-4dbf-acc8-656cc2f8defb",
  "Name": "Pingdom - Modify Uptime Check",
  "Description": "Modifies Pingdom http check using [Modify Check API method](https://www.pingdom.com/resources/api#MethodModify+Check).",
  "Version": 26,
  "ExportedAt": "2018-06-11T13:50:51.699Z",
  "ActionType": "Octopus.Script",
  "Author": "sarbis",
  "Parameters": [
    {
      "Id": "cc77291a-308c-414a-9e68-3a23ea2207da",
      "Name": "Pingdom.Username",
      "Label": "Username",
      "HelpText": "Mandatory.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    },
    {
      "Id": "815e7620-2f99-4231-a975-5a074b77260c",
      "Name": "Pingdom.Password",
      "Label": "Password",
      "HelpText": "Mandatory.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "Sensitive"
      },
      "Links": {}
    },
    {
      "Id": "ac459f1c-7688-481c-a954-05779adeac61",
      "Name": "Pingdom.AppKey",
      "Label": "App key",
      "HelpText": "Mandatory.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    },
    {
      "Id": "df91b159-d961-4a45-bb8b-9521b3e8848f",
      "Name": "Pingdom.CheckId",
      "Label": "Id",
      "HelpText": null,
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    },
    {
      "Id": "9a3d6294-799b-474c-9cd4-3404e281acb5",
      "Name": "Pingdom.CheckName",
      "Label": "Name",
      "HelpText": null,
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    },
    {
      "Id": "4508116a-fb26-4500-b1d1-b75d13838204",
      "Name": "Pingdom.CheckPaused",
      "Label": "Paused",
      "HelpText": null,
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      },
      "Links": {}
    },
    {
      "Id": "603710c6-e717-44e0-9eac-b84c06ff9351",
      "Name": "Pingdom.ThrowErrorWhenFailed",
      "Label": "Error when failed",
      "HelpText": "When checked, throws Octopus exception if template script has failed.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      },
      "Links": {}
    }
  ],
  "Properties": {
    "Octopus.Action.Script.ScriptSource": "Inline",
    "Octopus.Action.RunOnServer": "false",
    "Octopus.Action.Script.ScriptFileName": null,
    "Octopus.Action.Package.FeedId": null,
    "Octopus.Action.Package.PackageId": null,
    "Octopus.Action.Package.DownloadOnTentacle": "False",
    "Octopus.Action.Script.Syntax": "PowerShell",
    "Octopus.Action.Script.ScriptBody": "# Ref: https://www.pingdom.com/resources/api#MethodModify+Check\n\nFunction Get-Parameter() {\n    Param(\n        [parameter(Mandatory=$true)]\n        [string]$Name, \n        [switch]$Required, \n        $Default, \n        [switch]$FailOnValidate\n    )\n\n    $result = $null\n    $errMessage = [string]::Empty\n\n    If ($OctopusParameters -ne $null) {\n        $result = $OctopusParameters[$Name]\n        Write-Host (\"Octopus parameter value for \" + $Name + \": \" + $result)\n    }\n\n    If ($result -eq $null) {\n        $variable = Get-Variable $Name -EA SilentlyContinue\n        if ($variable -ne $null) {\n            $result = $variable.Value\n        }\n    }\n\n    If ($result -eq $null -or [string]::IsNullOrEmpty($result)) {\n        If ($Required) {\n            $errMessage = \"Missing value for $Name\"\n        } ElseIf (-Not $Default -eq $null) {\n            Write-Host (\"Default value: \" + $Default)\n            $result = $Default\n        }\n    }\n\n    If (-Not [string]::IsNullOrEmpty($errMessage)) {\n        If ($FailOnValidate) {\n            Throw $errMessage\n        } Else {\n            Write-Warning $errMessage\n        }\n    }\n\n    return $result\n}\n\n& {\n    Write-Host \"Start PingdomModifyUptimeCheck\"\n\n    Add-Type -AssemblyName System.Web\n\n    [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\n\n    $throwErrorWhenFailed = [System.Convert]::ToBoolean([string](Get-Parameter -Name \"Pingdom.ThrowErrorWhenFailed\" -Default \"False\"))\n\n    $pingdomUsername = [string] (Get-Parameter -Name \"Pingdom.Username\" -Required -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomPassword = [string] (Get-Parameter -Name \"Pingdom.Password\" -Required -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomAppKey = [string] (Get-Parameter -Name \"Pingdom.AppKey\" -Required -FailOnValidate:$throwErrorWhenFailed)\n\n    $pingdomCheckId = [string] (Get-Parameter -Name \"Pingdom.CheckId\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckPaused = [string] (Get-Parameter -Name \"Pingdom.CheckPaused\" -Default \"False\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckName = [string] (Get-Parameter -Name \"Pingdom.CheckName\" -Required -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckTarget = [string] (Get-Parameter -Name \"Pingdom.CheckTarget\" -Required -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckIntervalMinutes = [System.Nullable[int]] (Get-Parameter -Name \"Pingdom.CheckIntervalMinutes\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckContactIds = [string] (Get-Parameter -Name \"Pingdom.CheckContactIds\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckSendNotificationWhenDown = [System.Nullable[int]] (Get-Parameter -Name \"Pingdom.CheckSendNotificationWhenDown\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckNotifyAgainEvery = [System.Nullable[int]] (Get-Parameter -Name \"Pingdom.CheckNotifyAgainEvery\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckNotifyWhenBackUp = [string](Get-Parameter -Name \"Pingdom.CheckNotifyWhenBackUp\" -Default \"True\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckTags = [string] (Get-Parameter -Name \"Pingdom.CheckTags\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckHttpUrl = [string] (Get-Parameter -Name \"Pingdom.CheckHttpUrl\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckHttpEncryptionEnabled = [string](Get-Parameter -Name \"Pingdom.CheckHttpEncryptionEnabled\" -Default \"False\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckHttpTargetPort = [System.Nullable[int]] (Get-Parameter -Name \"Pingdom.CheckHttpTargetPort\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckAuth = [string] (Get-Parameter -Name \"Pingdom.CheckAuth\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckShouldContain = [string] (Get-Parameter -Name \"Pingdom.CheckShouldContain\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckShouldNotContain = [string] (Get-Parameter -Name \"Pingdom.CheckShouldNotContain\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckPostData = [string] (Get-Parameter -Name \"Pingdom.CheckPostData\" -FailOnValidate:$throwErrorWhenFailed)\n    $pingdomCheckIntegrationIds = [string] (Get-Parameter -Name \"Pingdom.CheckIntegrationIds\" -FailOnValidate:$throwErrorWhenFailed)\n\n    $apiVersion = \"2.1\"\n    $url = \"https://api.pingdom.com/api/{0}/checks\" -f $apiVersion\n    $securePassword = ConvertTo-SecureString $pingdomPassword -AsPlainText -Force\n    $credential = New-Object System.Management.Automation.PSCredential($pingdomUsername, $securePassword)\n    $headers = @{ \n        \"App-Key\" = $pingdomAppKey\n    }\n\n    If ([string]::IsNullOrEmpty($pingdomCheckId) -and [string]::IsNullOrEmpty($pingdomCheckName)) {\n        $errMessage = \"Please specify CheckId or CheckName!\"\n        If($throwErrorWhenFailed -eq $true) {\n            Write-Error $errMessage\n        }\n        Else {\n            Write-Warning $errMessage\n        }\n        Exit\n    } \n    \n    # Find check id by name\n\n    If (-Not [string]::IsNullOrEmpty($pingdomCheckName)) {\n        Write-Host \"Getting uptime check list to find check by name: $url\"\n        Try {\n            $response = Invoke-RestMethod -Uri $url -Method Get -ContentType \"application/json\" -Credential $credential -Headers $headers\n        } Catch {\n            Write-Host \"Error occured when getting uptime check list in Pingdom: \" + $_.Exception.Message\n        }\n\n        $checkFiltered = $response.checks | Where-Object { $_.name -eq $pingdomCheckName }\n        If ($checkFiltered -eq $null) {\n            Write-Warning \"Check with name $pingdomCheckName not found!\"\n            Exit\n        }\n\n        $pingdomCheckId = $checkFiltered.id\n    }\n\n    If ([string]::IsNullOrEmpty($pingdomCheckId)) {\n        Write-Warning \"Check with name $pingdomCheckName was not found!\"\n        Exit\n    }\n\n    # Pause or resume check\n\n    $url += \"/$pingdomCheckId\"\n\n    $apiParameters = @{}\n    $apiParameters.Add(\"host\", $pingdomCheckTarget)\n    $apiParameters.Add(\"contactids\", $pingdomCheckContactIds)\n    $apiParameters.Add(\"integrationids\", $pingdomCheckIntegrationIds)\n    If ($pingdomCheckPaused -eq \"True\") {\n        $apiParameters.Add(\"paused\", \"true\")\n    } Else {\n        $apiParameters.Add(\"paused\", \"false\")\n    }\n    If ($pingdomCheckIntervalMinutes -ne $null) {\n        $apiParameters.Add(\"resolution\", $pingdomCheckIntervalMinutes)\n    }\n    If ($pingdomCheckSendNotificationWhenDown -ne $null) {\n        $apiParameters.Add(\"sendnotificationwhendown\", $pingdomCheckSendNotificationWhenDown)\n    }\n    If ($pingdomCheckNotifyAgainEvery -ne $null) {\n        $apiParameters.Add(\"notifyagainevery\", $pingdomCheckNotifyAgainEvery)\n    }\n    If ($pingdomCheckNotifyWhenBackUp -ne $null) {\n        $apiParameters.Add(\"notifywhenbackup\", $pingdomCheckNotifyWhenBackUp.ToLower())\n    }\n    If ($pingdomCheckTags -ne $null) {\n        $apiParameters.Add(\"tags\", $pingdomCheckTags)\n    }\n    If ($pingdomCheckHttpUrl -ne $null) {\n        $apiParameters.Add(\"url\", $pingdomCheckHttpUrl)\n    }\n    If ($pingdomCheckHttpEncryptionEnabled -ne $null) {\n        $apiParameters.Add(\"encryption\", $pingdomCheckHttpEncryptionEnabled.ToLower())\n    }\n    If ($pingdomCheckHttpTargetPort -ne $null) {\n        $apiParameters.Add(\"port\", $pingdomCheckHttpTargetPort)\n    }\n    If ($pingdomCheckAuth -ne $null) {\n        $apiParameters.Add(\"auth\", $pingdomCheckAuth)\n    }\n    If (-Not [string]::IsNullOrEmpty($pingdomCheckShouldContain)) {\n        $apiParameters.Add(\"shouldcontain\", $pingdomCheckShouldContain)\n    }\n    If (-Not [string]::IsNullOrEmpty($pingdomCheckShouldNotContain)) {\n        $apiParameters.Add(\"shouldnotcontain\", $pingdomCheckShouldNotContain)\n    }\n    If ($pingdomCheckPostData -ne $null) {\n        $apiParameters.Add(\"postdata\", $pingdomCheckPostData)\n    }\n\n    If ($apiParameters.Count -gt 0) {\n        $queryString = \"\"\n        $apiParameters.Keys | ForEach-Object { \n            $queryString += ($_ + \"=\" + [Web.HttpUtility]::UrlEncode($apiParameters.Item($_)) + \"&\")  \n        }\n        $queryString = $queryString.Substring(0, $queryString.Length - 1)\n        $url += \"?$queryString\"\n    }\n\n    Write-Host \"Modifying uptime check: $url\"\n    Try {\n        $response = Invoke-RestMethod -Uri $url -Method Put -ContentType \"application/json\" -Credential $credential -Headers $headers\n        Write-Host $response.message\n    } Catch {\n        $errMessage = \"Error occured when adding uptime check in Pingdom: \" + $_.Exception + \"`n\"\n        $errMessage += \"Response: \" + $_\n        If($throwErrorWhenFailed -eq $true) {\n            Write-Error $errMessage\n        }\n        Else {\n            Write-Warning $errMessage\n        }\n    }\n\n    Write-Host \"End PingdomModifyUptimeCheck\"\n}"
  },
  "Category": "Pingdom",
  "HistoryUrl": "https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/pingdom-modify-uptime-check.json",
  "Website": "/step-templates/e2324451-0488-4dbf-acc8-656cc2f8defb",
  "Logo": "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",
  "$Meta": {
    "Type": "ActionTemplate"
  }
}
```

[History](https://github.com/OctopusDeploy/Library/commits/master/step-templates/https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/pingdom-modify-uptime-check.json)

</div>
