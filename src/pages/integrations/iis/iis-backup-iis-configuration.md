---
layout: src/layouts/Default.astro
pubDate: 2016-11-23
title: 'IIS - Backup IIS Configuration'
description: 'This backs up the entire IIS configuration for the server (does not include website files). Note that all prior configurations on that IIS server will be cleared out.'
navMenu: false
# Set to true when launched
navSitemap: false
navSearch: false
# This file is auto-generated by docs/tools/MarkdownGenerator (detail.js)
---

Octopus.Script exported 2016-11-23 by jjaffery belongs to 'IIS' category.

## Parameters

When steps based on the template are included in a project's deployment process, the parameters below can be set.



## Script body

Steps based on this template will execute the following *PowerShell* script.

```powershell
<#
This script will take the existing configuration (does not include website files) and back it up on the IIS Server, which can then be later restored if needed.

To view existing backups for restore operation, find the latest backup here:
    $env:Windir\System32\inetsrv\backup

To restore, use the following commands:
    Restore-WebConfiguration -Name "IISConfigBackup"
    iisreset

Reference Articles:
https://technet.microsoft.com/en-us/library/hh867851(v=wps.630).aspx
https://technet.microsoft.com/en-us/library/hh867862(v=wps.630).aspx
#>

# clear all backed up configurations first
Remove-WebConfigurationBackup

# perform backup
Backup-WebConfiguration -Name "IISConfigBackup"

```

Provided under the [Apache License version 2.0](https://github.com/OctopusDeploy/Library/blob/master/LICENSE.txt).

[Report an issue](https://github.com/OctopusDeploy/Library/issues/new?assignees=&labels=&projects=&template=bug-report.yml&title=Issue%20with%20IIS%20-%20Backup%20IIS%20Configuration&step-template=IIS%20-%20Backup%20IIS%20Configuration)

<div class="get-json">

To use this template in Octopus Deploy, copy the JSON below and paste it into the **Library → Step templates → Import** dialog.

```json
{
  "Id": "e1006e45-bbde-42e3-b6b9-16d804772684",
  "Name": "IIS - Backup IIS Configuration",
  "Description": "This backs up the entire IIS configuration for the server (does not include website files). Note that all prior configurations on that IIS server will be cleared out.",
  "Version": 1,
  "ExportedAt": "2016-11-23T21:07:51.416Z",
  "ActionType": "Octopus.Script",
  "Author": "jjaffery",
  "Parameters": [],
  "Properties": {
    "Octopus.Action.Script.Syntax": "PowerShell",
    "Octopus.Action.Script.ScriptSource": "Inline",
    "Octopus.Action.RunOnServer": "false",
    "Octopus.Action.Script.ScriptBody": "<#\nThis script will take the existing configuration (does not include website files) and back it up on the IIS Server, which can then be later restored if needed.\n\nTo view existing backups for restore operation, find the latest backup here:\n    $env:Windir\\System32\\inetsrv\\backup\n\nTo restore, use the following commands:\n    Restore-WebConfiguration -Name \"IISConfigBackup\"\n    iisreset\n\nReference Articles:\nhttps://technet.microsoft.com/en-us/library/hh867851(v=wps.630).aspx\nhttps://technet.microsoft.com/en-us/library/hh867862(v=wps.630).aspx\n#>\n\n# clear all backed up configurations first\nRemove-WebConfigurationBackup\n\n# perform backup\nBackup-WebConfiguration -Name \"IISConfigBackup\"\n",
    "Octopus.Action.Script.ScriptFileName": null,
    "Octopus.Action.Package.FeedId": null,
    "Octopus.Action.Package.PackageId": null
  },
  "Category": "IIS",
  "HistoryUrl": "https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/iis-backup-iis-configuration.json",
  "Website": "/step-templates/e1006e45-bbde-42e3-b6b9-16d804772684",
  "Logo": "https://i.octopus.com/library/step-templates/iis.png",
  "$Meta": {
    "Type": "ActionTemplate"
  }
}
```

[History](https://github.com/OctopusDeploy/Library/commits/master/step-templates/https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/iis-backup-iis-configuration.json)

</div>
