---
layout: src/layouts/Default.astro
pubDate: 2020-08-12
title: 'ReleaseNotesHub Pull Trigger'
description: 'ReleaseNotesHub is a B2B\B2C SaaS solution that automates the generation and publication of release notes. With ReleaseNotesHub the creation of Release Notes becomes another step within your CI/CD pipeline. ReleaseNotesHub can pull content from many systems including TFS, Azure Devops, GitHub, Jira and Asana. 

Use this step to trigger a pull from your Octopus Deploy process. Visit [here](https://support.releasenoteshub.com/article/show/111570-how-to-trigger-a-pull-from-octopus-deploy) for setup guide. 

https://www.releasenoteshub.com
'
navMenu: false
# Set to true when launched
navSitemap: false
navSearch: false
# This file is auto-generated by docs/tools/MarkdownGenerator (detail.js)
---

Octopus.Script exported 2020-08-12 by ReleaseNotesHub belongs to 'RnHub' category.

## Parameters

When steps based on the template are included in a project's deployment process, the parameters below can be set.


<div class="param">

### ApiKey

`ReleaseNotesHub_ApiKey = `

The ApiKey can be copied from your ReleaseNotesHub Profile [page](https://support.releasenoteshub.com/article/show/105050-how-do-i-get-an-api-key).

</div>
        
<div class="param">

### Name

`ReleaseNotesHub_Name = `

A Name can be specified when creating a new Release.

</div>
        
<div class="param">

### Version

`ReleaseNotesHub_Version = `

Version is an optional parameter. If left blank, the Octopus Deploy system variable 'Octopus.Release.Number' will be used.

</div>
        
<div class="param">

### ReleaseNotesHub Project Id

`ReleaseNotesHub_ProjectId = `

The ReleaseNotesHub Project Id can be copied from your ReleaseNotesHub Project [page](https://support.releasenoteshub.com/article/show/111560-how-to-get-project-id).

</div>
        
<div class="param">

### Publish

`ReleaseNotesHub_Publish = false`

Select false to create your release notes in draft status, or select true to Publish.

</div>
        
<div class="param">

### Ignore if Release exists

`ReleaseNotesHub_IgnoreIfExists = false`

If release already exists then ignore pull request.

</div>
        
<div class="param">

### Create release if not found

`ReleaseNotesHub_CreateOnNotFound = true`

If CreateOnNotFound is set to true and a Release with the specified version cannot be found, a release will automatically be created.

</div>
        

## Script body

Steps based on this template will execute the following *PowerShell* script.

```powershell
if ( -not [string]::IsNullOrEmpty( $ReleaseNotesHub_Version ) )
{
	$v = $ReleaseNotesHub_Version
}
else
{
	$v = $OctopusParameters['Octopus.Release.Number']
}

$headers = @{
    "Authorization" = "ApiKey $ReleaseNotesHub_ApiKey"
}

$body = @{
    "name" = $ReleaseNotesHub_Name;
    "version" = $v;
    "createOnNotFound" = $ReleaseNotesHub_CreateOnNotFound;
    "IgnoreIfExists" = $ReleaseNotesHub_IgnoreIfExists;
    "publish" = $ReleaseNotesHub_Publish     
} | ConvertTo-Json

try {
     Invoke-RestMethod -Method Post -Uri "https://api.releasenoteshub.com/api/pull/PullVersion/$ReleaseNotesHub_ProjectId" -Headers $headers -Body $body -ContentType application/json-patch+json
} catch {
    Write-Host "StatusCode:" $_.Exception.Response.StatusCode.value__ 
    Write-Host "StatusDescription:" $_.Exception.Response.StatusDescription
    throw $_.Exception
}
```

Provided under the [Apache License version 2.0](https://github.com/OctopusDeploy/Library/blob/master/LICENSE.txt).

[Report an issue](https://github.com/OctopusDeploy/Library/issues/new?assignees=&labels=&projects=&template=bug-report.yml&title=Issue%20with%20ReleaseNotesHub%20Pull%20Trigger&step-template=ReleaseNotesHub%20Pull%20Trigger)

<div class="get-json">

To use this template in Octopus Deploy, copy the JSON below and paste it into the **Library → Step templates → Import** dialog.

```json
{
  "Id": "8acee70f-0b6d-43a8-ab16-b832b37e0422",
  "Name": "ReleaseNotesHub Pull Trigger",
  "Description": "ReleaseNotesHub is a B2B\\B2C SaaS solution that automates the generation and publication of release notes. With ReleaseNotesHub the creation of Release Notes becomes another step within your CI/CD pipeline. ReleaseNotesHub can pull content from many systems including TFS, Azure Devops, GitHub, Jira and Asana. \n\nUse this step to trigger a pull from your Octopus Deploy process. Visit [here](https://support.releasenoteshub.com/article/show/111570-how-to-trigger-a-pull-from-octopus-deploy) for setup guide. \n\nhttps://www.releasenoteshub.com\n",
  "Version": 4,
  "ExportedAt": "2020-08-12T04:02:39.748Z",
  "ActionType": "Octopus.Script",
  "Author": "ReleaseNotesHub",
  "Packages": [],
  "Parameters": [
    {
      "Id": "3341141f-ab5d-4204-9d84-b46cb0e1ba71",
      "Name": "ReleaseNotesHub_ApiKey",
      "Label": "ApiKey",
      "HelpText": "The ApiKey can be copied from your ReleaseNotesHub Profile [page](https://support.releasenoteshub.com/article/show/105050-how-do-i-get-an-api-key).",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "Sensitive"
      }
    },
    {
      "Id": "f1da89f8-94c5-48c3-a15f-690a466e131c",
      "Name": "ReleaseNotesHub_Name",
      "Label": "Name",
      "HelpText": "A Name can be specified when creating a new Release.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Id": "02e58f68-5a86-41cd-9b21-636d5eb162bf",
      "Name": "ReleaseNotesHub_Version",
      "Label": "Version",
      "HelpText": "Version is an optional parameter. If left blank, the Octopus Deploy system variable 'Octopus.Release.Number' will be used.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Id": "0d3f067f-1432-4b3a-9c63-9a2eb9b6b522",
      "Name": "ReleaseNotesHub_ProjectId",
      "Label": "ReleaseNotesHub Project Id",
      "HelpText": "The ReleaseNotesHub Project Id can be copied from your ReleaseNotesHub Project [page](https://support.releasenoteshub.com/article/show/111560-how-to-get-project-id).",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Id": "8218468f-36f4-48d3-8e93-4a04745b6bac",
      "Name": "ReleaseNotesHub_Publish",
      "Label": "Publish",
      "HelpText": "Select false to create your release notes in draft status, or select true to Publish.",
      "DefaultValue": "false",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      }
    },
    {
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      },
      "Name": "ReleaseNotesHub_IgnoreIfExists",
      "DefaultValue": "false",
      "Label": "Ignore if Release exists",
      "HelpText": "If release already exists then ignore pull request."
    },
    {
      "Id": "49db9d3c-3734-4a56-8dce-364785d58a12",
      "Name": "ReleaseNotesHub_CreateOnNotFound",
      "Label": "Create release if not found",
      "HelpText": "If CreateOnNotFound is set to true and a Release with the specified version cannot be found, a release will automatically be created.",
      "DefaultValue": "true",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      }
    }
  ],
  "Properties": {
    "Octopus.Action.Script.ScriptSource": "Inline",
    "Octopus.Action.Script.Syntax": "PowerShell",
    "Octopus.Action.Script.ScriptBody": "if ( -not [string]::IsNullOrEmpty( $ReleaseNotesHub_Version ) )\n{\n\t$v = $ReleaseNotesHub_Version\n}\nelse\n{\n\t$v = $OctopusParameters['Octopus.Release.Number']\n}\n\n$headers = @{\n    \"Authorization\" = \"ApiKey $ReleaseNotesHub_ApiKey\"\n}\n\n$body = @{\n    \"name\" = $ReleaseNotesHub_Name;\n    \"version\" = $v;\n    \"createOnNotFound\" = $ReleaseNotesHub_CreateOnNotFound;\n    \"IgnoreIfExists\" = $ReleaseNotesHub_IgnoreIfExists;\n    \"publish\" = $ReleaseNotesHub_Publish     \n} | ConvertTo-Json\n\ntry {\n     Invoke-RestMethod -Method Post -Uri \"https://api.releasenoteshub.com/api/pull/PullVersion/$ReleaseNotesHub_ProjectId\" -Headers $headers -Body $body -ContentType application/json-patch+json\n} catch {\n    Write-Host \"StatusCode:\" $_.Exception.Response.StatusCode.value__ \n    Write-Host \"StatusDescription:\" $_.Exception.Response.StatusDescription\n    throw $_.Exception\n}"
  },
  "Category": "RnHub",
  "HistoryUrl": "https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/releasenoteshub-pull-trigger.json",
  "Website": "/step-templates/8acee70f-0b6d-43a8-ab16-b832b37e0422",
  "Logo": "https://i.octopus.com/library/step-templates/rnhub.png",
  "$Meta": {
    "Type": "ActionTemplate"
  }
}
```

[History](https://github.com/OctopusDeploy/Library/commits/master/step-templates/https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/releasenoteshub-pull-trigger.json)

</div>
