---
# This file is auto-generated by docs/tools/MarkdownGenerator (detail.js)
layout: src/layouts/Default.astro
pubDate: 2020-03-02
title: 'Slack - Send Simple Notification - Bash'
description: 'Send a basic message notification to Slack.'
navMenu: false
# Set to true when launched
navSitemap: false
navSearch: false
---

Octopus.Script exported 2020-03-02 by liam-mackie belongs to 'Slack' category.

## Parameters

When steps based on the template are included in a project's deployment process, the parameters below can be set.


<div class="param">

### Hook URL

`ssn_HookUrl = `

The Webhook URL provided by Slack, including token.

</div>
        
<div class="param">

### Channel handle

`ssn_Channel = `

Which Slack channel to post notification to.

</div>
        
<div class="param">

### Icon URL

`ssn_IconUrl = https://octopus.com/content/resources/favicon.png`

The icon shown in Slack against the notification.

</div>
        
<div class="param">

### Username

`ssn_Username = Octopus Deploy`

The username shown in Slack against the notification.

</div>
        
<div class="param">

### Title

`ssn_Title = `

The title of the notification in Slack.

Supported formatting includes: ` ```pre``` `, `_italic_`, `*bold*`, and even `~strike~`.

</div>
        
<div class="param">

### Message

`ssn_Message = `

The body of the notification in Slack.

Supported formatting includes: ` ```pre``` `, `_italic_`, `*bold*`, and even `~strike~`.

</div>
        
<div class="param">

### Color

`ssn_Color = good`

Like traffic signals, color-coding messages can quickly communicate intent and help separate them from the flow of other messages in the timeline.

</div>
        

## Script body

Steps based on this template will execute the following *Bash* script.

```bash
# Define variables
channel=$(get_octopusvariable "ssn_Channel")
username=$(get_octopusvariable "ssn_Username")
icon_url=$(get_octopusvariable "ssn_IconUrl")
parse="full"
pretext=$(get_octopusvariable "ssn_Title")
text=$(get_octopusvariable "ssn_Message")
color=$(get_octopusvariable "ssn_Color")
webook_url=$(get_octopusvariable "ssn_HookUrl")

# Create JSON payload
json_payload='{"username": '
json_payload+="\"$username\""
json_payload+=', "parse": '
json_payload+="\"$parse\""
json_payload+=', "channel": '
json_payload+="\"$channel\""
json_payload+=', "icon_url": '
json_payload+="\"$icon_url\""
json_payload+=', "attachments" : [{"text": '
json_payload+="\"$text\""
json_payload+=', "color": '
json_payload+="\"$color\""
json_payload+=', "pretext": '
json_payload+="\"$pretext\""
json_payload+=', "mrkdwn_in": ["pretext","text"]}]}'

# Send webhook - redirect stderr to stdout
wget --post-data="$json_payload" --secure-protocol="auto" "$webook_url" 2>&1

# Check for error
if [[ $? -ne 0 ]]
then
    fail_step "Failed!"
fi
```

Provided under the [Apache License version 2.0](https://github.com/OctopusDeploy/Library/blob/master/LICENSE.txt).

[Report an issue](https://github.com/OctopusDeploy/Library/issues/new?assignees=&labels=&projects=&template=bug-report.yml&title=Issue%20with%20Slack%20-%20Send%20Simple%20Notification%20-%20Bash&step-template=Slack%20-%20Send%20Simple%20Notification%20-%20Bash)

<div class="get-json">

To use this template in Octopus Deploy, copy the JSON below and paste it into the **Library → Step templates → Import** dialog.

```json
{
  "Id": "4ec2225e-9ffa-4072-9852-b986e8a98222",
  "Name": "Slack - Send Simple Notification - Bash",
  "Description": "Send a basic message notification to Slack.",
  "Version": 2,
  "ExportedAt": "2020-03-02T19:22:48.922Z",
  "ActionType": "Octopus.Script",
  "Author": "liam-mackie",
  "Packages": [],
  "Parameters": [
    {
      "Id": "0de9bf5f-302c-4b94-91eb-9e5fb0e37eb4",
      "Name": "ssn_HookUrl",
      "Label": "Hook URL",
      "HelpText": "The Webhook URL provided by Slack, including token.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "Sensitive"
      }
    },
    {
      "Id": "d55d5c10-9b82-43b1-8278-aedb72ba165f",
      "Name": "ssn_Channel",
      "Label": "Channel handle",
      "HelpText": "Which Slack channel to post notification to.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Id": "e753bbfe-efc1-4d3b-a15d-036b5e8ae510",
      "Name": "ssn_IconUrl",
      "Label": "Icon URL",
      "HelpText": "The icon shown in Slack against the notification.",
      "DefaultValue": "https://octopus.com/content/resources/favicon.png",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Id": "f25b4299-cfd0-4cb0-9c8c-48a706a01f02",
      "Name": "ssn_Username",
      "Label": "Username",
      "HelpText": "The username shown in Slack against the notification.",
      "DefaultValue": "Octopus Deploy",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Id": "811722e7-c3d2-495f-822c-eb5a974407e3",
      "Name": "ssn_Title",
      "Label": "Title",
      "HelpText": "The title of the notification in Slack.\n\nSupported formatting includes: ` ```pre``` `, `_italic_`, `*bold*`, and even `~strike~`.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Id": "b65a034b-d0b8-486b-a20a-2d105779a6db",
      "Name": "ssn_Message",
      "Label": "Message",
      "HelpText": "The body of the notification in Slack.\n\nSupported formatting includes: ` ```pre``` `, `_italic_`, `*bold*`, and even `~strike~`.",
      "DefaultValue": "",
      "DisplaySettings": {
        "Octopus.ControlType": "MultiLineText"
      }
    },
    {
      "Id": "a9be62b0-a3a8-4940-baa4-47c6cd2f2312",
      "Name": "ssn_Color",
      "Label": "Color",
      "HelpText": "Like traffic signals, color-coding messages can quickly communicate intent and help separate them from the flow of other messages in the timeline.",
      "DefaultValue": "good",
      "DisplaySettings": {
        "Octopus.ControlType": "Select",
        "Octopus.SelectOptions": "good|Green\nwarning|Orange\ndanger|Red"
      }
    }
  ],
  "Properties": {
    "Octopus.Action.Script.Syntax": "Bash",
    "Octopus.Action.Script.ScriptSource": "Inline",
    "Octopus.Action.Script.ScriptBody": "# Define variables\nchannel=$(get_octopusvariable \"ssn_Channel\")\nusername=$(get_octopusvariable \"ssn_Username\")\nicon_url=$(get_octopusvariable \"ssn_IconUrl\")\nparse=\"full\"\npretext=$(get_octopusvariable \"ssn_Title\")\ntext=$(get_octopusvariable \"ssn_Message\")\ncolor=$(get_octopusvariable \"ssn_Color\")\nwebook_url=$(get_octopusvariable \"ssn_HookUrl\")\n\n# Create JSON payload\njson_payload='{\"username\": '\njson_payload+=\"\\\"$username\\\"\"\njson_payload+=', \"parse\": '\njson_payload+=\"\\\"$parse\\\"\"\njson_payload+=', \"channel\": '\njson_payload+=\"\\\"$channel\\\"\"\njson_payload+=', \"icon_url\": '\njson_payload+=\"\\\"$icon_url\\\"\"\njson_payload+=', \"attachments\" : [{\"text\": '\njson_payload+=\"\\\"$text\\\"\"\njson_payload+=', \"color\": '\njson_payload+=\"\\\"$color\\\"\"\njson_payload+=', \"pretext\": '\njson_payload+=\"\\\"$pretext\\\"\"\njson_payload+=', \"mrkdwn_in\": [\"pretext\",\"text\"]}]}'\n\n# Send webhook - redirect stderr to stdout\nwget --post-data=\"$json_payload\" --secure-protocol=\"auto\" \"$webook_url\" 2>&1\n\n# Check for error\nif [[ $? -ne 0 ]]\nthen\n    fail_step \"Failed!\"\nfi"
  },
  "Category": "Slack",
  "HistoryUrl": "https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/slack-send-simple-notification-bash.json",
  "Website": "/step-templates/4ec2225e-9ffa-4072-9852-b986e8a98222",
  "Logo": "https://i.octopus.com/library/step-templates/slack.png",
  "$Meta": {
    "Type": "ActionTemplate"
  }
}
```

[History](https://github.com/OctopusDeploy/Library/commits/master/step-templates/https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/slack-send-simple-notification-bash.json)

</div>
