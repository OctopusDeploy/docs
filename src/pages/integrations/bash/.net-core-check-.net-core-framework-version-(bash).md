---
# This file is auto-generated by docs/tools/MarkdownGenerator (detail.js)
layout: src/layouts/Default.astro
pubDate: 2018-03-30
title: '.NET Core - Check .NET Core Framework Version (Bash)'
description: 'Check if given .NET Core framework version (or greater) is installed.'
navMenu: false
# Set to true when launched
navSitemap: false
navSearch: false
---

Octopus.Script exported 2018-03-30 by cjuroz belongs to 'Bash' category.

## Parameters

When steps based on the template are included in a project's deployment process, the parameters below can be set.


<div class="param">

### Target .NET Core framework version

`TargetVersion = 2.0.5`

The target .NET Core framework version you expect to be installed in the machine. For example, 2.0.5.

</div>
        
<div class="param">

### Exact

`Exact = False`

If you check "Exact", it means the installed .NET Core framework version MUST match target version.

Otherwise, as long as the installed .NET Coreframework version is greater than or equal to target version, the check will pass.

</div>
        

## Script body

Steps based on this template will execute the following *Bash* script.

```bash
targetVersion=$(get_octopusvariable "TargetVersion")
exact=$(get_octopusvariable "Exact")

# required arguments checking
if [[ ! $targetVersion ]] || [[ ! $exact ]] 
then
    echo "[ERROR]: Missing required argument. Exit!"
    exit 1;
fi

dotNetCorePath=/usr/share/dotnet/shared/Microsoft.NETCore.App
dotNetCoreVersions=()
if [ -d "$dotNetCorePath" ]; then
	cd $dotNetCorePath
    dotNetCoreVersions=(*/)
fi

matchedVersions=()
for i in ${dotNetCoreVersions[@]}; do
	if [ $exact = true ] || [ $exact = True ]
    then
    	if [[ $i = $targetVersion/ ]]
        then
        	matchedVersions+=(${i%/})
        fi
    else
    	if [[ ! $i < $targetVersion/ ]]
        then
        	matchedVersions+=(${i%/})
        fi
    fi
done

if [ ${#matchedVersions[@]} -eq 0 ]; then
    echo "Can't find .NET Core Runtime $targetVersion installed in the machine."
    exit 1
else
    for i in ${matchedVersions[@]}; do
    	echo "Found .NET Core Runtime $i installed in the machine."
	done
fi
```

Provided under the [Apache License version 2.0](https://github.com/OctopusDeploy/Library/blob/master/LICENSE.txt).

[Report an issue](https://github.com/OctopusDeploy/Library/issues/new?assignees=&labels=&projects=&template=bug-report.yml&title=Issue%20with%20.NET%20Core%20-%20Check%20.NET%20Core%20Framework%20Version%20(Bash)&step-template=.NET%20Core%20-%20Check%20.NET%20Core%20Framework%20Version%20(Bash))

<div class="get-json">

To use this template in Octopus Deploy, copy the JSON below and paste it into the **Library → Step templates → Import** dialog.

```json
{
  "Id": "ac73fb02-8107-4747-bedf-7e39effa31d4",
  "Name": ".NET Core - Check .NET Core Framework Version (Bash)",
  "Description": "Check if given .NET Core framework version (or greater) is installed.",
  "Version": 43,
  "ExportedAt": "2018-03-30T10:07:36.152Z",
  "ActionType": "Octopus.Script",
  "Author": "cjuroz",
  "Parameters": [
    {
      "Id": "694207ec-0e0b-42a1-841b-81aa4ee5cb7d",
      "Name": "TargetVersion",
      "Label": "Target .NET Core framework version",
      "HelpText": "The target .NET Core framework version you expect to be installed in the machine. For example, 2.0.5.",
      "DefaultValue": "2.0.5",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      },
      "Links": {}
    },
    {
      "Id": "b570ac4a-44a8-42ef-90c4-822530ff6d52",
      "Name": "Exact",
      "Label": "Exact",
      "HelpText": "If you check \"Exact\", it means the installed .NET Core framework version MUST match target version.\n\nOtherwise, as long as the installed .NET Coreframework version is greater than or equal to target version, the check will pass.",
      "DefaultValue": "False",
      "DisplaySettings": {
        "Octopus.ControlType": "Checkbox"
      },
      "Links": {}
    }
  ],
  "Properties": {
    "Octopus.Action.Script.ScriptSource": "Inline",
    "Octopus.Action.Script.Syntax": "Bash",
    "Octopus.Action.Script.ScriptBody": "targetVersion=$(get_octopusvariable \"TargetVersion\")\nexact=$(get_octopusvariable \"Exact\")\n\n# required arguments checking\nif [[ ! $targetVersion ]] || [[ ! $exact ]] \nthen\n    echo \"[ERROR]: Missing required argument. Exit!\"\n    exit 1;\nfi\n\ndotNetCorePath=/usr/share/dotnet/shared/Microsoft.NETCore.App\ndotNetCoreVersions=()\nif [ -d \"$dotNetCorePath\" ]; then\n\tcd $dotNetCorePath\n    dotNetCoreVersions=(*/)\nfi\n\nmatchedVersions=()\nfor i in ${dotNetCoreVersions[@]}; do\n\tif [ $exact = true ] || [ $exact = True ]\n    then\n    \tif [[ $i = $targetVersion/ ]]\n        then\n        \tmatchedVersions+=(${i%/})\n        fi\n    else\n    \tif [[ ! $i < $targetVersion/ ]]\n        then\n        \tmatchedVersions+=(${i%/})\n        fi\n    fi\ndone\n\nif [ ${#matchedVersions[@]} -eq 0 ]; then\n    echo \"Can't find .NET Core Runtime $targetVersion installed in the machine.\"\n    exit 1\nelse\n    for i in ${matchedVersions[@]}; do\n    \techo \"Found .NET Core Runtime $i installed in the machine.\"\n\tdone\nfi"
  },
  "Category": "Bash",
  "HistoryUrl": "https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/bash-check-net-core-framework-version.json",
  "Website": "/step-templates/ac73fb02-8107-4747-bedf-7e39effa31d4",
  "Logo": "https://i.octopus.com/library/step-templates/bash.png",
  "$Meta": {
    "Type": "ActionTemplate"
  }
}
```

[History](https://github.com/OctopusDeploy/Library/commits/master/step-templates/https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/bash-check-net-core-framework-version.json)

</div>
