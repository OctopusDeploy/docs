---
layout: src/layouts/Default.astro
pubDate: 2017-01-31
title: 'Pushover - Send a notification'
description: 'Sends a notification using the Pushover REST API.'
navMenu: false
# Set to true when launched
navSitemap: false
navSearch: false
# This file is auto-generated by docs/tools/MarkdownGenerator (detail.js)
---

Octopus.Script exported 2017-01-31 by HumanPrinter belongs to 'Pushover' category.

## Parameters

When steps based on the template are included in a project's deployment process, the parameters below can be set.


<div class="param">

### Specify the App token as registered in the Pushover Dashboard

`APIToken`

Goto [Create New Pushover Application/Plugin](https://pushover.net/apps/build) and create a token for your application, e.g. Octopus.

</div>
        
<div class="param">

### The User Key of the Pushover User to send the notification to

`UserKey`

The **User Key** can be found on the [Pushover dashboard](https://pushover.net/) after logging in.

</div>
        
<div class="param">

### The message that should be send

`Message`

The message that must be displayed in the notification.

</div>
        
<div class="param">

### Title

`Title`

The title of the notification. When empty, the parameter will be omitted in the Pushover API call.

</div>
        
<div class="param">

### Priority

`Priority = 0`

The priority of the notification. See Pushover API documentation for valid values.

</div>
        
<div class="param">

### Timeout in seconds

`Timeout = 60`

The maximum timout in seconds for the request.

</div>
        

## Script body

Steps based on this template will execute the following *PowerShell* script.

```powershell
[int]$timeoutSec = $null
if(-not [int]::TryParse($Timeout, [ref]$timeoutSec)) { $timeoutSec = 60 }

if($Title -eq $null) {
    $input = @{token = $APIToken; user = $UserKey; message = $Message; priority = $Priority }
}
else {
    $input = @{token = $APIToken; user = $UserKey; message = $Message; priority = $Priority; title = $Title }
}

Invoke-RestMethod -Method Post -Uri "https://api.pushover.net/1/messages.json" -Body $input -TimeoutSec $timeoutSec 
```

Provided under the [Apache License version 2.0](https://github.com/OctopusDeploy/Library/blob/master/LICENSE.txt).

[Report an issue](https://github.com/OctopusDeploy/Library/issues/new?assignees=&labels=&projects=&template=bug-report.yml&title=Issue%20with%20Pushover%20-%20Send%20a%20notification&step-template=Pushover%20-%20Send%20a%20notification)

<div class="get-json">

To use this template in Octopus Deploy, copy the JSON below and paste it into the **Library → Step templates → Import** dialog.

```json
{
  "Id": "610f3e98-e0ee-4c94-8f0f-b6417c16169e",
  "Name": "Pushover - Send a notification",
  "Description": "Sends a notification using the Pushover REST API.",
  "Version": 1,
  "ExportedAt": "2017-01-31T08:00:00.000Z",
  "ActionType": "Octopus.Script",
  "Author": "HumanPrinter",
  "Parameters": [
    {
      "Name": "APIToken",
      "Label": "Specify the App token as registered in the Pushover Dashboard",
      "HelpText": "Goto [Create New Pushover Application/Plugin](https://pushover.net/apps/build) and create a token for your application, e.g. Octopus.",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "Sensitive"
      }
    },
    {
      "Name": "UserKey",
      "Label": "The User Key of the Pushover User to send the notification to",
      "HelpText": "The **User Key** can be found on the [Pushover dashboard](https://pushover.net/) after logging in.",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "Sensitive"
      }
    },
    {
      "Name": "Message",
      "Label": "The message that should be send",
      "HelpText": "The message that must be displayed in the notification.",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "MultiLineText"
      }
    },
    {
      "Name": "Title",
      "Label": "Title",
      "HelpText": "The title of the notification. When empty, the parameter will be omitted in the Pushover API call.",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "Priority",
      "Label": "Priority",
      "HelpText": "The priority of the notification. See Pushover API documentation for valid values.",
      "DefaultValue": 0,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "Timeout",
      "Label": "Timeout in seconds",
      "HelpText": "The maximum timout in seconds for the request.",
      "DefaultValue": "60",
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    }
  ],
  "Properties": {
    "Octopus.Action.Script.Syntax": "PowerShell",
    "Octopus.Action.Script.ScriptBody": "[int]$timeoutSec = $null\nif(-not [int]::TryParse($Timeout, [ref]$timeoutSec)) { $timeoutSec = 60 }\n\nif($Title -eq $null) {\n    $input = @{token = $APIToken; user = $UserKey; message = $Message; priority = $Priority }\n}\nelse {\n    $input = @{token = $APIToken; user = $UserKey; message = $Message; priority = $Priority; title = $Title }\n}\n\nInvoke-RestMethod -Method Post -Uri \"https://api.pushover.net/1/messages.json\" -Body $input -TimeoutSec $timeoutSec "
  },
  "Category": "Pushover",
  "HistoryUrl": "https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/pushover-send-notification.json",
  "Website": "/step-templates/610f3e98-e0ee-4c94-8f0f-b6417c16169e",
  "Logo": "https://i.octopus.com/library/step-templates/pushover.png",
  "$Meta": {
    "Type": "ActionTemplate"
  }
}
```

[History](https://github.com/OctopusDeploy/Library/commits/master/step-templates/https://github.com/OctopusDeploy/Library/commits/master/step-templates//opt/buildagent/work/75443764cd38076d/step-templates/pushover-send-notification.json)

</div>
